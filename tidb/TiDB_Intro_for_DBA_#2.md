# TiDB Intro for DBA #2

## Benchmark Architecture

### IDC Only (passthrough TiProxy)
```
╔═══════════════════════════════╗
║         Client / App         ║
╚═══════════════════════════════╝
              │
              ▼
╔════════════════════════════════════════════╗
║  A10 Load Balancer (VIP: x.x.x.x:6000)    ║
╚════════════════════════════════════════════╝
              │
              ▼
╔════════════════════════════════════════════════════════════╗
║                        TiProxy 層                        ║
║ ┌─────────────┬─────────────┬─────────────┐              ║
║ │ tiproxy-1   │ tiproxy-2   │ tiproxy-3   │              ║
║ │172.24.40.17 │172.24.40.18 │172.24.40.19 │              ║
║ │port: 6000   │port: 6000   │port: 6000   │              ║
║ └─────────────┴─────────────┴─────────────┘              ║
╚════════════════════════════════════════════════════════════╝
              │
              ▼
╔════════════════════════════════════════════════════════════╗
║                         TiDB 層                          ║
║ ┌─────────────┬─────────────┬─────────────┐              ║
║ │ TiDB-1      │ TiDB-2      │ TiDB-3      │              ║
║ │172.24.40.17 │172.24.40.18 │172.24.40.19 │              ║
║ │port: 4000   │port: 4000   │port: 4000   │              ║
║ └─────────────┴─────────────┴─────────────┘              ║
╚════════════════════════════════════════════════════════════╝
              │    │─────────────DistSQL / KV API──────────►│
              ▼                                              ▼
╔══════════════════════════════╦══════════════════════════════╗
║       PD 層                 ║        TiKV 層               ║
║ ┌─────────────┬────────────┐║ ┌─────────────┬────────────┐ ║
║ │ PD-1        │ PD-2       │║ │ TiKV-1      │ TiKV-2     │ ║
║ │172.24.40.17 │172.24.40.18│║ │172.24.40.17 │172.24.40.18│ ║
║ │port: 2379   │port: 2379  │║ │port:20160   │port:20160  │ ║
║ └─────────────┴────────────┘║ └─────────────┴────────────┘ ║
║ PD-3: 172.24.40.19:2379     ║ TiKV-3: 172.24.40.19:20160   ║
╚══════════════════════════════╩══════════════════════════════╝
```

### IDC or GCP Only (passthrough TiDB)
```
╔═══════════════════════════════╗
║         Client / App         ║
╚═══════════════════════════════╝
              │
              ▼
╔════════════════════════════════════════════╗
║  A10 Load Balancer (VIP: x.x.x.x:4000)    ║
╚════════════════════════════════════════════╝
              │
              ▼
╔════════════════════════════════════════════════════════════╗
║                         TiDB 層                          ║
║ ┌─────────────┬─────────────┬─────────────┐              ║
║ │ TiDB-1      │ TiDB-2      │ TiDB-3      │              ║
║ │172.24.40.17 │172.24.40.18 │172.24.40.19 │              ║
║ │port: 4000   │port: 4000   │port: 4000   │              ║
║ └─────────────┴─────────────┴─────────────┘              ║
╚════════════════════════════════════════════════════════════╝
              │    │─────────────DistSQL / KV API──────────►│
              ▼                                              ▼
╔══════════════════════════════╦══════════════════════════════╗
║       PD 層                 ║        TiKV 層               ║
║ ┌─────────────┬────────────┐║ ┌─────────────┬────────────┐ ║
║ │ PD-1        │ PD-2       │║ │ TiKV-1      │ TiKV-2     │ ║
║ │172.24.40.17 │172.24.40.18│║ │172.24.40.17 │172.24.40.18│ ║
║ │port: 2379   │port: 2379  │║ │port:20160   │port:20160  │ ║
║ └─────────────┴────────────┘║ └─────────────┴────────────┘ ║
║ PD-3: 172.24.40.19:2379     ║ TiKV-3: 172.24.40.19:20160   ║
╚══════════════════════════════╩══════════════════════════════╝
```

### Benchmark architecture environment with mixed IDC and GCP
```
```

---

## RPS Benchmark

### Environment Phase

#### Deploy on VM

- IDC * 1
Cluster Summary
```
[root@l-k8s-labroom-1 ~]# date ; tiup cluster display tidb-demo
Fri Aug  1 10:07:42 CST 2025
Cluster type:       tidb
Cluster name:       tidb-demo
Cluster version:    v8.5.2
Deploy user:        root
SSH type:           builtin
Dashboard URL:      http://172.24.40.18:2379/dashboard
Dashboard URLs:     http://172.24.40.18:2379/dashboard
Grafana URL:        http://172.24.40.20:3000
ID                  Role        Host          Ports        OS/Arch       Status   Data Dir                         Deploy Dir
--                  ----        ----          -----        -------       ------   --------                         ----------
172.24.40.20:3000   grafana     172.24.40.20  3000         linux/x86_64  Up       -                                /data/tidb-deploy/grafana-3000
172.24.40.18:2379   pd          172.24.40.18  2379/2380    linux/x86_64  Up|L|UI  /data/tidb-data/pd-2379          /data/tidb-deploy/pd-2379
172.24.40.20:9090   prometheus  172.24.40.20  9090/12020   linux/x86_64  Up       /data/tidb-data/prometheus-9090  /data/tidb-deploy/prometheus-9090
172.24.40.18:4000   tidb        172.24.40.18  4000/10080   linux/x86_64  Up       -                                /data/tidb-deploy/tidb-4000
172.24.40.18:20160  tikv        172.24.40.18  20160/20180  linux/x86_64  Up       /data/tidb-data/tikv-20160       /data/tidb-deploy/tikv-20160
172.24.40.18:6000   tiproxy     172.24.40.18  6000/6001    linux/x86_64  Up       -                                /data/tidb-deploy/tiproxy-6000
Total nodes: 6
```

RPS From TiDB
```
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.562                0.00            5.619           1779.71         1
single_thread_multi_conn  10000           0.579                0.00            5.793           1726.12         1
multi_thread_multi_conn   10000           1.283                0.00            12.844          778.56          1
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.609                0.00            6.095           1640.71         1
single_thread_multi_conn  10000           0.514                0.00            5.222           1915.11         1
multi_thread_multi_conn   10000           19.550               0.00            2.084           4797.60         100
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.586                0.00            5.868           1704.16         1
single_thread_multi_conn  10000           0.505                0.00            5.204           1921.71         1
multi_thread_multi_conn   10000           36.055               0.00            2.024           4939.65         200
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.572                0.00            5.721           1747.89         1
single_thread_multi_conn  10000           0.509                0.00            5.284           1892.57         1
multi_thread_multi_conn   10000           44.815               0.00            2.095           4772.84         250
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.551                0.00            5.512           1814.25         1
single_thread_multi_conn  10000           0.524                0.00            5.650           1770.06         1
multi_thread_multi_conn   10000           93.319               0.00            2.449           4083.94         500
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.575                0.00            5.754           1737.91         1
single_thread_multi_conn  10000           0.500                0.00            5.540           1805.19         1
multi_thread_multi_conn   10000           119.752              0.00            3.245           3081.47         750
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.587                0.00            5.877           1701.66         1
single_thread_multi_conn  10000           0.496                0.00            5.806           1722.37         1
multi_thread_multi_conn   10000           151.809              0.00            3.116           3208.78         1000
========================================================================================================================
```

RPS From TiDB passthrough A10 NAT
```
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.533                0.00            5.331           1875.67         1
single_thread_multi_conn  10000           0.525                0.00            5.252           1904.14         1
multi_thread_multi_conn   10000           1.365                0.00            13.661          731.98          1
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.554                0.00            5.540           1804.97         1
single_thread_multi_conn  10000           0.546                0.00            5.546           1803.13         1
multi_thread_multi_conn   10000           27.986               0.00            3.011           3320.80         100
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.573                0.00            5.739           1742.47         1
single_thread_multi_conn  10000           0.543                0.00            5.782           1729.42         1
multi_thread_multi_conn   10000           61.253               13.03           4.217           2371.37         200
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.517                0.00            5.171           1933.96         1
single_thread_multi_conn  10000           0.609                0.00            6.318           1582.82         1
multi_thread_multi_conn   10000           72.621               10.22           3.663           2729.77         250
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.591                0.00            5.919           1689.58         1
single_thread_multi_conn  10000           0.601                0.00            6.446           1551.41         1
multi_thread_multi_conn   10000           147.603              3.97            6.905           1448.33         500
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.549                0.00            5.493           1820.59         1
single_thread_multi_conn  10000           0.607                0.00            6.735           1484.83         1
multi_thread_multi_conn   10000           47.002               23.36           6.823           1465.61         750
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.554                0.00            5.544           1803.66         1
single_thread_multi_conn  10000           0.580                0.00            6.619           1510.77         1
multi_thread_multi_conn   10000           172.086              5.73            5.968           1675.65         1000
========================================================================================================================
```

RPS From TiProxy
```
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.675                0.00            6.749           1481.66         1
single_thread_multi_conn  10000           0.660                0.00            6.605           1514.11         1
multi_thread_multi_conn   10000           1.912                0.00            19.132          522.68          1
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.597                0.00            5.975           1673.69         1
single_thread_multi_conn  10000           0.689                0.00            7.018           1424.84         1
multi_thread_multi_conn   10000           28.626               0.00            3.013           3318.58         100
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.600                0.00            6.005           1665.42         1
single_thread_multi_conn  10000           0.640                0.00            6.636           1507.05         1
multi_thread_multi_conn   10000           55.745               0.00            2.982           3353.27         200
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.611                0.00            6.113           1635.88         1
single_thread_multi_conn  10000           0.651                0.00            6.832           1463.79         1
multi_thread_multi_conn   10000           70.404               0.00            3.136           3189.01         250
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.648                0.00            6.488           1541.19         1
single_thread_multi_conn  10000           0.699                0.00            7.622           1312.00         1
multi_thread_multi_conn   10000           135.323              0.00            3.204           3120.87         500
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.602                0.00            6.029           1658.55         1
single_thread_multi_conn  10000           0.639                0.00            7.229           1383.41         1
multi_thread_multi_conn   10000           201.128              0.00            3.486           2869.02         750
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.598                0.00            5.981           1671.88         1
single_thread_multi_conn  10000           0.658                0.00            7.720           1295.27         1
multi_thread_multi_conn   10000           226.734              0.00            3.314           3017.78         1000
========================================================================================================================
```

RPS From TiProxy passthrough A10 NAT
```
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.703                0.00            7.030           1422.43         1
single_thread_multi_conn  10000           0.682                0.00            6.826           1464.95         1
multi_thread_multi_conn   10000           2.047                0.00            20.483          488.20          1
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.685                0.00            6.855           1458.79         1
single_thread_multi_conn  10000           0.707                0.00            7.225           1384.08         1
multi_thread_multi_conn   10000           36.111               0.00            3.870           2583.71         100
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.659                0.00            6.595           1516.33         1
single_thread_multi_conn  10000           0.727                0.00            7.550           1324.56         1
multi_thread_multi_conn   10000           64.722               0.00            3.607           2772.31         200
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.778                0.00            7.787           1284.12         1
single_thread_multi_conn  10000           0.758                0.00            7.945           1258.65         1
multi_thread_multi_conn   10000           93.353               7.61            4.071           2456.69         250
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.731                0.00            7.313           1367.41         1
single_thread_multi_conn  10000           0.727                0.00            7.962           1255.96         1
multi_thread_multi_conn   10000           161.022              0.00            3.774           2649.55         500
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.769                0.00            7.694           1299.79         1
single_thread_multi_conn  10000           0.735                0.00            8.418           1187.92         1
multi_thread_multi_conn   10000           262.926              6.58            7.292           1371.37         750
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.688                0.00            6.889           1451.55         1
single_thread_multi_conn  10000           0.715                0.00            8.476           1179.81         1
multi_thread_multi_conn   10000           299.571              0.00            6.788           1473.18         1000
========================================================================================================================
```

---

- GCP * 1

Cluster Summary
```
[root@l-k8s-labroom-1 ~]# date ; tiup cluster display tidb-demo
Thu Aug  7 11:24:01 CST 2025
Cluster type:       tidb
Cluster name:       tidb-demo
Cluster version:    v8.5.2
Deploy user:        root
SSH type:           builtin
Dashboard URL:      http://172.24.40.17:2379/dashboard
Dashboard URLs:     http://172.24.40.17:2379/dashboard
Grafana URL:        http://172.24.40.17:3000
ID                   Role        Host           Ports        OS/Arch       Status   Data Dir                         Deploy Dir
--                   ----        ----           -----        -------       ------   --------                         ----------
172.24.40.17:3000    grafana     172.24.40.17   3000         linux/x86_64  Up       -                                /data/tidb-deploy/grafana-3000
172.24.40.17:2379    pd          172.24.40.17   2379/2380    linux/x86_64  Up|L|UI  /data/tidb-data/pd-2379          /data/tidb-deploy/pd-2379
172.24.40.17:9090    prometheus  172.24.40.17   9090/12020   linux/x86_64  Up       /data/tidb-data/prometheus-9090  /data/tidb-deploy/prometheus-9090
10.160.152.22:4000   tidb        10.160.152.22  4000/10080   linux/x86_64  Up       -                                /data/tidb-deploy/tidb-4000
10.160.152.22:20160  tikv        10.160.152.22  20160/20180  linux/x86_64  Up       /data/tidb-data/tikv-20160       /data/tidb-deploy/tikv-20160
10.160.152.22:6000   tiproxy     10.160.152.22  6000/6001    linux/x86_64  Up       -                                /data/tidb-deploy/tiproxy-6000
Total nodes: 6
```

RPS From TiDB ; Connect From IDC
```
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           11.578               0.00            115.809         86.35           1
single_thread_multi_conn  10000           11.732               0.00            117.356         85.21           1
multi_thread_multi_conn   10000           29.863               0.00            298.654         33.48           1
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           11.610               0.00            116.140         86.10           1
single_thread_multi_conn  10000           11.623               0.00            118.007         84.74           1
multi_thread_multi_conn   10000           38.139               0.00            3.927           2546.21         100
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           11.648               0.00            116.526         85.82           1
single_thread_multi_conn  10000           11.603               0.00            119.514         83.67           1
multi_thread_multi_conn   10000           72.666               0.00            3.874           2581.29         200
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           11.706               0.00            117.101         85.40           1
single_thread_multi_conn  10000           11.445               0.00            118.680         84.26           1
multi_thread_multi_conn   10000           72.064               0.00            3.148           3176.38         250
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           12.749               0.00            127.535         78.41           1
single_thread_multi_conn  10000           11.371               0.00            122.659         81.53           1
multi_thread_multi_conn   10000           137.343              0.00            3.671           2724.03         500
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           11.873               0.00            118.763         84.20           1
single_thread_multi_conn  10000           11.496               0.00            127.290         78.56           1
multi_thread_multi_conn   10000           223.993              0.00            3.615           2766.02         750
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           11.217               0.00            112.215         89.11           1
single_thread_multi_conn  10000           11.257               0.00            129.757         77.07           1
multi_thread_multi_conn   10000           266.745              0.00            3.711           2694.99         1000
========================================================================================================================
```

RPS From TiProxy ; Connect From IDC
```
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           11.370               0.00            113.736         87.92           1
single_thread_multi_conn  10000           11.356               0.00            113.611         88.02           1
multi_thread_multi_conn   10000           34.511               0.00            345.144         28.97           1
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           11.216               0.00            112.206         89.12           1
single_thread_multi_conn  10000           11.463               0.00            116.947         85.51           1
multi_thread_multi_conn   10000           46.863               0.00            4.811           2078.38         100
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           11.274               0.00            112.778         88.67           1
single_thread_multi_conn  10000           11.336               0.00            117.867         84.84           1
multi_thread_multi_conn   10000           82.780               0.00            4.363           2291.83         200
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           12.111               0.00            121.153         82.54           1
single_thread_multi_conn  10000           12.094               0.00            127.007         78.74           1
multi_thread_multi_conn   10000           108.604              0.00            4.636           2157.11         250
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           11.971               0.00            119.759         83.50           1
single_thread_multi_conn  10000           11.534               0.00            127.140         78.65           1
multi_thread_multi_conn   10000           205.574              0.00            4.658           2146.93         500
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           11.748               0.00            117.526         85.09           1
single_thread_multi_conn  10000           17.275               0.00            196.362         50.93           1
multi_thread_multi_conn   10000           314.731              0.00            5.088           1965.44         750
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           12.092               0.00            120.961         82.67           1
single_thread_multi_conn  10000           11.406               0.00            136.607         73.20           1
multi_thread_multi_conn   10000           393.240              0.00            4.976           2009.63         1000
========================================================================================================================
```

RPS From TiDB ; Connect From GCP
```
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.537                0.00            5.371           1861.92         1
single_thread_multi_conn  10000           0.517                0.00            5.172           1933.59         1
multi_thread_multi_conn   10000           1.396                0.00            13.965          716.08          1
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.543                0.00            5.433           1840.76         1
single_thread_multi_conn  10000           0.560                0.00            5.678           1761.11         1
multi_thread_multi_conn   10000           38.508               0.00            4.128           2422.24         100
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.537                0.00            5.375           1860.31         1
single_thread_multi_conn  10000           0.547                0.00            5.826           1716.33         1
multi_thread_multi_conn   10000           77.414               5.01            5.072           1971.58         200
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.537                0.00            5.370           1862.26         1
single_thread_multi_conn  10000           0.553                0.00            5.748           1739.68         1
multi_thread_multi_conn   10000           93.799               18.11           4.412           2266.35         250
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.537                0.00            5.369           1862.54         1
single_thread_multi_conn  10000           0.553                0.00            5.944           1682.41         1
multi_thread_multi_conn   10000           206.096              3.93            5.344           1871.40         500
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.533                0.00            5.336           1873.93         1
single_thread_multi_conn  10000           0.558                0.00            6.195           1614.16         1
multi_thread_multi_conn   10000           56.879               15.49           7.041           1420.28         750
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.539                0.00            5.397           1852.95         1
single_thread_multi_conn  10000           0.570                0.00            6.531           1531.15         1
multi_thread_multi_conn   10000           357.425              25.62           6.156           1624.45         1000
========================================================================================================================
```

RPS From TiProxy ; Connect From GCP
```
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.660                0.00            6.598           1515.62         1
single_thread_multi_conn  10000           0.658                0.00            6.579           1520.05         1
multi_thread_multi_conn   10000           1.994                0.00            19.945          501.38          1
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.658                0.00            6.588           1517.95         1
single_thread_multi_conn  10000           0.680                0.00            6.928           1443.39         1
multi_thread_multi_conn   10000           68.464               0.00            7.126           1403.35         100
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.662                0.00            6.622           1510.04         1
single_thread_multi_conn  10000           0.687                0.00            7.139           1400.75         1
multi_thread_multi_conn   10000           107.233              0.00            5.745           1740.74         200
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.657                0.00            6.570           1522.09         1
single_thread_multi_conn  10000           0.693                0.00            7.284           1372.86         1
multi_thread_multi_conn   10000           162.060              0.00            7.031           1422.28         250
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.663                0.00            6.632           1507.74         1
single_thread_multi_conn  10000           0.687                0.00            9.414           1062.27         1
multi_thread_multi_conn   10000           279.924              0.00            6.390           1564.99         500
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.662                0.00            6.622           1510.15         1
single_thread_multi_conn  10000           0.683                0.00            9.720           1028.79         1
multi_thread_multi_conn   10000           474.001              0.00            7.727           1294.17         750
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.666                0.00            6.672           1498.77         1
single_thread_multi_conn  10000           0.700                0.00            12.129          824.47          1
multi_thread_multi_conn   10000           527.272              0.00            7.118           1404.79         1000
========================================================================================================================
```

---

- IDC * 3
Cluster Summary
```
[root@l-k8s-labroom-1 ~]# date ; tiup cluster display tidb-demo
Thu Aug  7 16:07:07 CST 2025
Cluster type:       tidb
Cluster name:       tidb-demo
Cluster version:    v8.5.2
Deploy user:        root
SSH type:           builtin
Dashboard URL:      http://172.24.40.17:2379/dashboard
Dashboard URLs:     http://172.24.40.17:2379/dashboard
Grafana URL:        http://172.24.40.20:3000
ID                  Role        Host          Ports        OS/Arch       Status  Data Dir                         Deploy Dir
--                  ----        ----          -----        -------       ------  --------                         ----------
172.24.40.20:3000   grafana     172.24.40.20  3000         linux/x86_64  Up      -                                /data/tidb-deploy/grafana-3000
172.24.40.17:2379   pd          172.24.40.17  2379/2380    linux/x86_64  Up|UI   /data/tidb-data/pd-2379          /data/tidb-deploy/pd-2379
172.24.40.18:2379   pd          172.24.40.18  2379/2380    linux/x86_64  Up      /data/tidb-data/pd-2379          /data/tidb-deploy/pd-2379
172.24.40.19:2379   pd          172.24.40.19  2379/2380    linux/x86_64  Up|L    /data/tidb-data/pd-2379          /data/tidb-deploy/pd-2379
172.24.40.20:9090   prometheus  172.24.40.20  9090/12020   linux/x86_64  Up      /data/tidb-data/prometheus-9090  /data/tidb-deploy/prometheus-9090
172.24.40.17:4000   tidb        172.24.40.17  4000/10080   linux/x86_64  Up      -                                /data/tidb-deploy/tidb-4000
172.24.40.18:4000   tidb        172.24.40.18  4000/10080   linux/x86_64  Up      -                                /data/tidb-deploy/tidb-4000
172.24.40.19:4000   tidb        172.24.40.19  4000/10080   linux/x86_64  Up      -                                /data/tidb-deploy/tidb-4000
172.24.40.17:20160  tikv        172.24.40.17  20160/20180  linux/x86_64  Up      /data/tidb-data/tikv-20160       /data/tidb-deploy/tikv-20160
172.24.40.18:20160  tikv        172.24.40.18  20160/20180  linux/x86_64  Up      /data/tidb-data/tikv-20160       /data/tidb-deploy/tikv-20160
172.24.40.19:20160  tikv        172.24.40.19  20160/20180  linux/x86_64  Up      /data/tidb-data/tikv-20160       /data/tidb-deploy/tikv-20160
172.24.40.17:6000   tiproxy     172.24.40.17  6000/6001    linux/x86_64  Up      -                                /data/tidb-deploy/tiproxy-6000
172.24.40.18:6000   tiproxy     172.24.40.18  6000/6001    linux/x86_64  Up      -                                /data/tidb-deploy/tiproxy-6000
172.24.40.19:6000   tiproxy     172.24.40.19  6000/6001    linux/x86_64  Up      -                                /data/tidb-deploy/tiproxy-6000
Total nodes: 14
```

RPS From TiDB passthrough A10 NAT
```
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.535                0.00            5.352           1868.58         1
single_thread_multi_conn  10000           0.604                0.00            6.042           1655.19         1
multi_thread_multi_conn   10000           1.664                0.00            16.657          600.34          1
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.537                0.00            5.372           1861.44         1
single_thread_multi_conn  10000           0.657                0.00            6.676           1497.91         1
multi_thread_multi_conn   10000           22.738               0.00            2.694           3712.11         100
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.638                0.00            6.388           1565.52         1
single_thread_multi_conn  10000           0.644                0.00            6.954           1438.09         1
multi_thread_multi_conn   10000           40.300               0.00            4.795           2085.69         200
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.549                0.00            5.493           1820.37         1
single_thread_multi_conn  10000           0.662                0.00            6.883           1452.80         1
multi_thread_multi_conn   10000           32.968               23.21           3.834           2608.15         250
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.609                0.00            6.099           1639.58         1
single_thread_multi_conn  10000           0.623                0.00            6.718           1488.58         1
multi_thread_multi_conn   10000           21.953               4.00            3.952           2530.23         500
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.612                0.00            6.121           1633.83         1
single_thread_multi_conn  10000           0.622                0.00            6.974           1433.83         1
multi_thread_multi_conn   10000           26.442               10.52           4.712           2122.34         750
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.621                0.00            6.214           1609.32         1
single_thread_multi_conn  10000           0.628                0.00            7.208           1387.30         1
multi_thread_multi_conn   10000           28.267               30.72           5.452           1834.19         1000
========================================================================================================================
```

RPS From TiProxy passthrough A10 NAT
```
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.850                0.00            8.501           1176.30         1
single_thread_multi_conn  10000           0.655                0.00            6.555           1525.66         1
multi_thread_multi_conn   10000           2.589                0.00            25.901          386.08          1
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.860                0.00            8.606           1161.93         1
single_thread_multi_conn  10000           0.899                0.00            9.200           1087.01         1
multi_thread_multi_conn   10000           26.422               0.00            2.904           3443.11         100
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.674                0.00            6.746           1482.33         1
single_thread_multi_conn  10000           0.866                0.00            9.041           1106.13         1
multi_thread_multi_conn   10000           28.692               0.00            3.802           2630.35         200
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.875                0.00            8.753           1142.52         1
single_thread_multi_conn  10000           0.905                0.00            9.510           1051.57         1
multi_thread_multi_conn   10000           41.932               0.00            2.700           3704.11         250
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.802                0.00            8.030           1245.35         1
single_thread_multi_conn  10000           0.894                0.00            11.388          878.09          1
multi_thread_multi_conn   10000           30.800               0.00            1.928           5187.93         500
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.854                0.00            8.548           1169.92         1
single_thread_multi_conn  10000           0.885                0.00            11.378          878.88          1
multi_thread_multi_conn   10000           38.636               0.00            3.579           2794.06         750
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.817                0.00            8.181           1222.40         1
single_thread_multi_conn  10000           0.852                0.00            11.967          835.62          1
multi_thread_multi_conn   10000           29.584               0.00            2.637           3791.55         1000
========================================================================================================================
```

---

- GCP * 3
Cluster Summary
```
[root@l-k8s-labroom-1 ~]# date ; tiup cluster display tidb-demo
Mon Aug 11 11:15:20 CST 2025
Cluster type:       tidb
Cluster name:       tidb-demo
Cluster version:    v8.5.2
Deploy user:        root
SSH type:           builtin
Dashboard URL:      http://10.160.152.21:2379/dashboard
Dashboard URLs:     http://10.160.152.21:2379/dashboard
Grafana URL:        http://172.24.40.20:3000
ID                   Role        Host           Ports        OS/Arch       Status  Data Dir                         Deploy Dir
--                   ----        ----           -----        -------       ------  --------                         ----------
172.24.40.20:3000    grafana     172.24.40.20   3000         linux/x86_64  Up      -                                /data/tidb-deploy/grafana-3000
10.160.152.21:2379   pd          10.160.152.21  2379/2380    linux/x86_64  Up|UI   /data/tidb-data/pd-2379          /data/tidb-deploy/pd-2379
10.160.152.22:2379   pd          10.160.152.22  2379/2380    linux/x86_64  Up|L    /data/tidb-data/pd-2379          /data/tidb-deploy/pd-2379
10.160.152.23:2379   pd          10.160.152.23  2379/2380    linux/x86_64  Up      /data/tidb-data/pd-2379          /data/tidb-deploy/pd-2379
172.24.40.20:9090    prometheus  172.24.40.20   9090/12020   linux/x86_64  Up      /data/tidb-data/prometheus-9090  /data/tidb-deploy/prometheus-9090
10.160.152.21:4000   tidb        10.160.152.21  4000/10080   linux/x86_64  Up      -                                /data/tidb-deploy/tidb-4000
10.160.152.22:4000   tidb        10.160.152.22  4000/10080   linux/x86_64  Up      -                                /data/tidb-deploy/tidb-4000
10.160.152.23:4000   tidb        10.160.152.23  4000/10080   linux/x86_64  Up      -                                /data/tidb-deploy/tidb-4000
10.160.152.21:20160  tikv        10.160.152.21  20160/20180  linux/x86_64  Up      /data/tidb-data/tikv-20160       /data/tidb-deploy/tikv-20160
10.160.152.22:20160  tikv        10.160.152.22  20160/20180  linux/x86_64  Up      /data/tidb-data/tikv-20160       /data/tidb-deploy/tikv-20160
10.160.152.23:20160  tikv        10.160.152.23  20160/20180  linux/x86_64  Up      /data/tidb-data/tikv-20160       /data/tidb-deploy/tikv-20160
10.160.152.21:6000   tiproxy     10.160.152.21  6000/6001    linux/x86_64  Up      -                                /data/tidb-deploy/tiproxy-6000
10.160.152.22:6000   tiproxy     10.160.152.22  6000/6001    linux/x86_64  Up      -                                /data/tidb-deploy/tiproxy-6000
10.160.152.23:6000   tiproxy     10.160.152.23  6000/6001    linux/x86_64  Up      -                                /data/tidb-deploy/tiproxy-6000
Total nodes: 14
```

RPS From TiDB passthrough GCP Load Balance (#10.160.152.25:4000)
```
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.375                0.00            3.756           2662.38         1
single_thread_multi_conn  10000           0.400                0.00            4.001           2499.08         1
multi_thread_multi_conn   10000           1.053                0.00            10.538          948.95          1
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.454                0.00            4.537           2204.10         1
single_thread_multi_conn  10000           0.423                0.00            4.302           2324.68         1
multi_thread_multi_conn   10000           29.547               0.00            3.312           3019.17         100
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.430                0.00            4.300           2325.79         1
single_thread_multi_conn  10000           0.425                0.00            4.556           2195.09         1
multi_thread_multi_conn   10000           48.152               20.63           5.839           1712.52         200
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.392                0.00            3.918           2552.62         1
single_thread_multi_conn  10000           0.424                0.00            4.392           2276.97         1
multi_thread_multi_conn   10000           20.738               2.49            1.478           6766.10         250
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.422                0.00            4.222           2368.40         1
single_thread_multi_conn  10000           0.423                0.00            4.539           2202.89         1
multi_thread_multi_conn   10000           18.596               4.01            4.387           2279.26         500
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.424                0.00            4.248           2354.27         1
single_thread_multi_conn  10000           0.000                100.00          0.005           1862148.82      1
multi_thread_multi_conn   10000           34.512               23.66           7.396           1352.09         750
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.398                0.00            3.978           2513.60         1
single_thread_multi_conn  10000           0.426                0.00            4.906           2038.48         1
multi_thread_multi_conn   10000           9.478                9.92            3.548           2818.24         1000
========================================================================================================================
```

RPS From TiProxy passthrough GCP Load Balance (#10.160.152.26:6000)
```
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.482                0.00            4.824           2073.01         1
single_thread_multi_conn  10000           0.533                0.00            5.328           1876.86         1
multi_thread_multi_conn   10000           1.615                0.00            16.154          619.05          1
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.535                0.00            5.353           1867.94         1
single_thread_multi_conn  10000           0.559                0.00            5.704           1753.31         1
multi_thread_multi_conn   10000           32.605               0.00            3.625           2758.27         100
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.517                0.00            5.170           1934.33         1
single_thread_multi_conn  10000           0.563                0.00            6.030           1658.48         1
multi_thread_multi_conn   10000           35.245               0.00            4.272           2340.78         200
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.500                0.00            5.000           2000.14         1
single_thread_multi_conn  10000           0.564                0.00            5.906           1693.07         1
multi_thread_multi_conn   10000           74.652               23.18           3.851           2596.57         250
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.532                0.00            5.325           1877.83         1
single_thread_multi_conn  10000           0.568                0.00            6.221           1607.49         1
multi_thread_multi_conn   10000           164.195              3.89            4.783           2090.81         500
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.536                0.00            5.361           1865.27         1
single_thread_multi_conn  10000           0.565                0.00            6.440           1552.70         1
multi_thread_multi_conn   10000           51.960               10.42           6.473           1544.79         750
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.495                0.00            4.949           2020.60         1
single_thread_multi_conn  10000           0.568                0.00            6.735           1484.71         1
multi_thread_multi_conn   10000           24.919               30.66           5.737           1743.19         1000
========================================================================================================================
```

---

- IDC * 1 + GCP * 2
Cluster Summary
```
[root@l-k8s-labroom-1 ~]# date ; tiup cluster display tidb-demo
Mon Aug 11 14:25:07 CST 2025
Checking updates for component cluster... Cluster type:       tidb
Cluster name:       tidb-demo
Cluster version:    v8.5.2
Deploy user:        root
SSH type:           builtin
Dashboard URL:      http://10.160.152.23:2379/dashboard
Dashboard URLs:     http://10.160.152.23:2379/dashboard
Grafana URL:        http://172.24.40.20:3000
ID                   Role        Host           Ports        OS/Arch       Status  Data Dir                         Deploy Dir
--                   ----        ----           -----        -------       ------  --------                         ----------
172.24.40.20:3000    grafana     172.24.40.20   3000         linux/x86_64  Up      -                                /data/tidb-deploy/grafana-3000
10.160.152.22:2379   pd          10.160.152.22  2379/2380    linux/x86_64  Up|L    /data/tidb-data/pd-2379          /data/tidb-deploy/pd-2379
10.160.152.23:2379   pd          10.160.152.23  2379/2380    linux/x86_64  Up|UI   /data/tidb-data/pd-2379          /data/tidb-deploy/pd-2379
172.24.40.17:2379    pd          172.24.40.17   2379/2380    linux/x86_64  Up      /data/tidb-data/pd-2379          /data/tidb-deploy/pd-2379
172.24.40.20:9090    prometheus  172.24.40.20   9090/12020   linux/x86_64  Up      /data/tidb-data/prometheus-9090  /data/tidb-deploy/prometheus-9090
10.160.152.22:4000   tidb        10.160.152.22  4000/10080   linux/x86_64  Up      -                                /data/tidb-deploy/tidb-4000
10.160.152.23:4000   tidb        10.160.152.23  4000/10080   linux/x86_64  Up      -                                /data/tidb-deploy/tidb-4000
172.24.40.17:4000    tidb        172.24.40.17   4000/10080   linux/x86_64  Up      -                                /data/tidb-deploy/tidb-4000
10.160.152.22:20160  tikv        10.160.152.22  20160/20180  linux/x86_64  Up      /data/tidb-data/tikv-20160       /data/tidb-deploy/tikv-20160
10.160.152.23:20160  tikv        10.160.152.23  20160/20180  linux/x86_64  Up      /data/tidb-data/tikv-20160       /data/tidb-deploy/tikv-20160
172.24.40.17:20160   tikv        172.24.40.17   20160/20180  linux/x86_64  Up      /data/tidb-data/tikv-20160       /data/tidb-deploy/tikv-20160
10.160.152.22:6000   tiproxy     10.160.152.22  6000/6001    linux/x86_64  Up      -                                /data/tidb-deploy/tiproxy-6000
10.160.152.23:6000   tiproxy     10.160.152.23  6000/6001    linux/x86_64  Up      -                                /data/tidb-deploy/tiproxy-6000
172.24.40.17:6000    tiproxy     172.24.40.17   6000/6001    linux/x86_64  Up      -                                /data/tidb-deploy/tiproxy-6000
Total nodes: 14
```

RPS From TiDB with IDC
```
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.583                0.00            5.838           1712.98         1
single_thread_multi_conn  10000           0.541                0.00            5.418           1845.74         1
multi_thread_multi_conn   10000           1.455                0.00            14.566          686.54          1
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.555                0.00            5.555           1800.25         1
single_thread_multi_conn  10000           0.562                0.00            5.711           1751.14         1
multi_thread_multi_conn   10000           28.748               0.00            3.166           3158.77         100
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.545                0.00            5.462           1830.98         1
single_thread_multi_conn  10000           0.571                0.00            6.115           1635.32         1
multi_thread_multi_conn   10000           61.280               11.32           4.216           2372.00         200
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.619                0.00            6.191           1615.35         1
single_thread_multi_conn  10000           0.618                0.00            6.428           1555.61         1
multi_thread_multi_conn   10000           63.370               11.83           5.045           1982.13         250
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.547                0.00            5.470           1828.17         1
single_thread_multi_conn  10000           0.608                0.00            6.535           1530.28         1
multi_thread_multi_conn   10000           149.822              3.79            7.018           1424.94         500
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.570                0.00            5.706           1752.58         1
single_thread_multi_conn  10000           0.609                0.00            6.781           1474.76         1
multi_thread_multi_conn   10000           36.522               21.81           5.512           1814.39         750
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.542                0.00            5.427           1842.59         1
single_thread_multi_conn  10000           0.572                0.00            6.566           1523.08         1
multi_thread_multi_conn   10000           191.716              13.83           6.049           1653.15         1000
========================================================================================================================
```

RPS From TiProxy with IDC
```
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.639                0.00            6.399           1562.67         1
single_thread_multi_conn  10000           0.646                0.00            6.467           1546.22         1
multi_thread_multi_conn   10000           2.187                0.00            21.881          457.01          1
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.681                0.00            6.820           1466.38         1
single_thread_multi_conn  10000           8.221                0.00            83.950          119.12          1
multi_thread_multi_conn   10000           24.834               0.00            3.039           3290.50         100
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.720                0.00            7.206           1387.81         1
single_thread_multi_conn  10000           9.798                0.00            102.263         97.79           1
multi_thread_multi_conn   10000           38.835               0.00            2.228           4488.76         200
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           12.112               0.00            121.163         82.53           1
single_thread_multi_conn  10000           10.890               0.00            113.123         88.40           1
multi_thread_multi_conn   10000           45.694               0.00            2.102           4757.46         250
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           12.254               0.00            122.585         81.58           1
single_thread_multi_conn  10000           8.238                0.00            90.802          110.13          1
multi_thread_multi_conn   10000           81.255               0.00            2.234           4477.06         500
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           12.473               0.00            124.775         80.14           1
single_thread_multi_conn  10000           8.303                0.00            95.620          104.58          1
multi_thread_multi_conn   10000           110.156              0.00            2.257           4430.60         750
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           12.054               0.00            120.579         82.93           1
single_thread_multi_conn  10000           9.515                0.00            111.183         89.94           1
multi_thread_multi_conn   10000           78.857               0.00            2.691           3715.82         1000
========================================================================================================================
```

RPS From TiDB with GCP
```
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.432                0.00            4.324           2312.80         1
single_thread_multi_conn  10000           0.393                0.00            3.933           2542.43         1
multi_thread_multi_conn   10000           1.098                0.00            10.986          910.29          1
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.432                0.00            4.327           2311.24         1
single_thread_multi_conn  10000           0.442                0.00            4.487           2228.53         1
multi_thread_multi_conn   10000           30.643               0.00            3.357           2978.68         100
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.395                0.00            3.955           2528.41         1
single_thread_multi_conn  10000           0.442                0.00            4.728           2115.07         1
multi_thread_multi_conn   10000           50.270               20.72           5.781           1729.94         200
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.390                0.00            3.904           2561.46         1
single_thread_multi_conn  10000           0.441                0.00            4.564           2191.23         1
multi_thread_multi_conn   10000           37.753               2.46            2.135           4683.38         250
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.436                0.00            4.366           2290.49         1
single_thread_multi_conn  10000           0.440                0.00            4.722           2117.87         1
multi_thread_multi_conn   10000           151.511              3.94            4.483           2230.73         500
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.400                0.00            3.999           2500.39         1
single_thread_multi_conn  10000           0.443                0.00            5.579           1792.33         1
multi_thread_multi_conn   10000           34.602               31.18           7.755           1289.50         750
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.437                0.00            4.376           2284.99         1
single_thread_multi_conn  10000           0.445                0.00            5.087           1965.81         1
multi_thread_multi_conn   10000           19.577               9.97            3.702           2701.37         1000
========================================================================================================================
```

RPS From TiProxy with GCP
```
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           11.845               0.00            118.476         84.41           1
single_thread_multi_conn  10000           12.960               0.00            129.629         77.14           1
multi_thread_multi_conn   10000           38.154               0.00            381.550         26.21           1
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           11.956               0.00            119.586         83.62           1
single_thread_multi_conn  10000           7.235                0.00            73.679          135.72          1
multi_thread_multi_conn   10000           20.255               0.00            2.236           4473.26         100
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.525                0.00            5.253           1903.60         1
single_thread_multi_conn  10000           4.530                0.00            47.049          212.54          1
multi_thread_multi_conn   10000           35.209               0.00            2.198           4549.24         200
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.526                0.00            5.262           1900.35         1
single_thread_multi_conn  10000           4.344                0.00            45.554          219.52          1
multi_thread_multi_conn   10000           43.833               0.00            2.247           4450.11         250
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.567                0.00            5.675           1762.19         1
single_thread_multi_conn  10000           4.322                0.00            47.553          210.29          1
multi_thread_multi_conn   10000           71.906               0.00            2.398           4169.54         500
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           11.957               0.00            119.593         83.62           1
single_thread_multi_conn  10000           5.334                0.00            61.571          162.41          1
multi_thread_multi_conn   10000           96.755               0.00            2.667           3749.86         750
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.541                0.00            5.410           1848.54         1
single_thread_multi_conn  10000           5.995                0.00            68.417          146.16          1
multi_thread_multi_conn   10000           50.684               0.00            3.006           3326.43         1000
========================================================================================================================
```

---

- IDC * 2 + GCP * 1
Cluster Summary
```
[root@l-k8s-labroom-1 ~]# make display
date ; tiup cluster display tidb-demo
Fri Aug 15 10:16:41 CST 2025
Cluster type:       tidb
Cluster name:       tidb-demo
Cluster version:    v8.5.2
Deploy user:        root
SSH type:           builtin
Dashboard URL:      http://10.160.152.23:2379/dashboard
Dashboard URLs:     http://10.160.152.23:2379/dashboard
Grafana URL:        http://172.24.40.20:3000
ID                   Role        Host           Ports        OS/Arch       Status  Data Dir                         Deploy Dir
--                   ----        ----           -----        -------       ------  --------                         ----------
172.24.40.20:3000    grafana     172.24.40.20   3000         linux/x86_64  Up      -                                /data/tidb-deploy/grafana-3000
10.160.152.23:2379   pd          10.160.152.23  2379/2380    linux/x86_64  Up|UI   /data/tidb-data/pd-2379          /data/tidb-deploy/pd-2379
172.24.40.17:2379    pd          172.24.40.17   2379/2380    linux/x86_64  Up|L    /data/tidb-data/pd-2379          /data/tidb-deploy/pd-2379
172.24.40.18:2379    pd          172.24.40.18   2379/2380    linux/x86_64  Up      /data/tidb-data/pd-2379          /data/tidb-deploy/pd-2379
172.24.40.20:9090    prometheus  172.24.40.20   9090/12020   linux/x86_64  Up      /data/tidb-data/prometheus-9090  /data/tidb-deploy/prometheus-9090
10.160.152.23:4000   tidb        10.160.152.23  4000/10080   linux/x86_64  Up      -                                /data/tidb-deploy/tidb-4000
172.24.40.17:4000    tidb        172.24.40.17   4000/10080   linux/x86_64  Up      -                                /data/tidb-deploy/tidb-4000
172.24.40.18:4000    tidb        172.24.40.18   4000/10080   linux/x86_64  Up      -                                /data/tidb-deploy/tidb-4000
10.160.152.23:20160  tikv        10.160.152.23  20160/20180  linux/x86_64  Up      /data/tidb-data/tikv-20160       /data/tidb-deploy/tikv-20160
172.24.40.17:20160   tikv        172.24.40.17   20160/20180  linux/x86_64  Up      /data/tidb-data/tikv-20160       /data/tidb-deploy/tikv-20160
172.24.40.18:20160   tikv        172.24.40.18   20160/20180  linux/x86_64  Up      /data/tidb-data/tikv-20160       /data/tidb-deploy/tikv-20160
10.160.152.23:6000   tiproxy     10.160.152.23  6000/6001    linux/x86_64  Up      -                                /data/tidb-deploy/tiproxy-6000
172.24.40.17:6000    tiproxy     172.24.40.17   6000/6001    linux/x86_64  Up      -                                /data/tidb-deploy/tiproxy-6000
172.24.40.18:6000    tiproxy     172.24.40.18   6000/6001    linux/x86_64  Up      -                                /data/tidb-deploy/tiproxy-6000
Total nodes: 14
```

RPS From TiDB with IDC
```
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.549                0.00            5.498           1818.73         1
single_thread_multi_conn  10000           0.605                0.00            6.059           1650.54         1
multi_thread_multi_conn   10000           1.558                0.00            15.590          641.42          1
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.551                0.00            5.514           1813.62         1
single_thread_multi_conn  10000           0.670                0.00            6.789           1473.02         1
multi_thread_multi_conn   10000           24.899               0.00            2.854           3503.67         100
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.549                0.00            5.498           1818.94         1
single_thread_multi_conn  10000           0.635                0.00            6.786           1473.59         1
multi_thread_multi_conn   10000           39.203               0.00            4.533           2206.28         200
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.563                0.00            5.633           1775.41         1
single_thread_multi_conn  10000           0.651                0.00            6.727           1486.54         1
multi_thread_multi_conn   10000           61.753               23.22           6.426           1556.18         250
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.559                0.00            5.597           1786.81         1
single_thread_multi_conn  10000           0.650                0.00            6.959           1436.98         1
multi_thread_multi_conn   10000           37.747               4.00            3.525           2836.72         500
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.550                0.00            5.504           1816.91         1
single_thread_multi_conn  10000           0.627                0.00            6.911           1446.96         1
multi_thread_multi_conn   10000           30.245               10.51           5.034           1986.34         750
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.592                0.00            5.925           1687.73         1
single_thread_multi_conn  10000           0.637                0.00            7.241           1381.09         1
multi_thread_multi_conn   10000           28.601               30.73           4.914           2035.11         1000
========================================================================================================================
```

RPS From TiProxy with IDC
```
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.698                0.00            6.983           1432.06         1
single_thread_multi_conn  10000           0.806                0.00            8.069           1239.34         1
multi_thread_multi_conn   10000           2.335                0.00            23.365          427.99          1
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.778                0.00            7.784           1284.73         1
single_thread_multi_conn  10000           2.905                0.00            29.628          337.51          1
multi_thread_multi_conn   10000           17.391               0.00            2.156           4638.07         100
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.624                0.00            6.243           1601.80         1
single_thread_multi_conn  10000           2.641                0.00            27.474          363.98          1
multi_thread_multi_conn   10000           49.741               0.00            2.902           3445.76         200
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           11.609               0.00            116.139         86.10           1
single_thread_multi_conn  10000           2.978                0.00            31.172          320.80          1
multi_thread_multi_conn   10000           34.701               0.00            1.743           5737.60         250
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.612                0.00            6.126           1632.28         1
single_thread_multi_conn  10000           4.691                0.00            51.422          194.47          1
multi_thread_multi_conn   10000           62.091               0.00            1.961           5099.12         500
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.863                0.00            8.634           1158.19         1
single_thread_multi_conn  10000           4.882                0.00            57.188          174.86          1
multi_thread_multi_conn   10000           55.255               0.00            2.143           4665.75         750
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           11.494               0.00            114.991         86.96           1
single_thread_multi_conn  10000           4.659                0.00            55.219          181.10          1
multi_thread_multi_conn   10000           37.937               0.00            2.337           4278.90         1000
========================================================================================================================
```

RPS From TiDB with GCP
```
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.351                0.00            3.510           2848.93         1
single_thread_multi_conn  10000           0.352                0.00            3.524           2837.65         1
multi_thread_multi_conn   10000           0.998                0.00            9.986           1001.43         1
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.346                0.00            3.463           2887.58         1
single_thread_multi_conn  10000           0.362                0.00            3.677           2719.98         1
multi_thread_multi_conn   10000           35.867               0.00            3.881           2576.90         100
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.351                0.00            3.510           2848.91         1
single_thread_multi_conn  10000           0.361                0.00            3.913           2555.53         1
multi_thread_multi_conn   10000           52.555               20.62           5.769           1733.41         200
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.358                0.00            3.578           2794.64         1
single_thread_multi_conn  10000           0.366                0.00            3.805           2627.95         1
multi_thread_multi_conn   10000           69.397               2.50            3.277           3051.45         250
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.000                100.00          0.005           1921964.90      1
single_thread_multi_conn  10000           0.000                100.00          0.003           2915545.67      1
multi_thread_multi_conn   10000           70.521               62.13           6.935           1441.89         500
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.352                0.00            3.524           2837.92         1
single_thread_multi_conn  10000           0.368                0.00            4.449           2247.57         1
multi_thread_multi_conn   10000           23.433               0.00            6.165           1622.11         750
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           0.354                0.00            3.544           2821.61         1
single_thread_multi_conn  10000           0.377                0.00            5.322           1878.96         1
multi_thread_multi_conn   10000           170.395              0.00            4.181           2391.69         1000
========================================================================================================================
```

RPS From TiProxy with GCP
```
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           11.318               0.00            113.208         88.33           1
single_thread_multi_conn  10000           11.394               0.00            113.965         87.75           1
multi_thread_multi_conn   10000           33.495               0.00            334.957         29.85           1
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           11.118               0.00            111.206         89.92           1
single_thread_multi_conn  10000           11.797               0.00            120.207         83.19           1
multi_thread_multi_conn   10000           189.346              0.00            21.167          472.43          100
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           15.129               0.00            151.320         66.09           1
single_thread_multi_conn  10000           7.760                0.00            80.613          124.05          1
multi_thread_multi_conn   10000           45.681               0.00            2.661           3757.28         200
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           11.708               0.00            117.107         85.39           1
single_thread_multi_conn  10000           7.775                0.00            81.795          122.26          1
multi_thread_multi_conn   10000           56.192               0.00            2.761           3622.17         250
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           12.079               0.00            120.813         82.77           1
single_thread_multi_conn  10000           7.963                0.00            87.552          114.22          1
multi_thread_multi_conn   10000           104.712              0.00            2.883           3468.11         500
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           24.602               0.00            246.047         40.64           1
single_thread_multi_conn  10000           12.283               0.00            170.593         58.62           1
multi_thread_multi_conn   10000           89.237               0.00            2.862           3493.87         750
========================================================================================================================
========================================================================================================================
Test Type                 Total Tests     Avg Response (ms)    Error Rate %    Total Time (s)  Req/sec         Threads
------------------------------------------------------------------------------------------------------------------------
single_thread_single_conn 10000           12.616               0.00            126.187         79.25           1
single_thread_multi_conn  10000           5.334                19.60           67.591          147.95          1
multi_thread_multi_conn   10000           177.149              0.00            3.587           2787.94         1000
========================================================================================================================
```

---

- IDC * 3 + GCP * 2
Cluster Summary
```
```

RPS From TiDB with IDC
```
```

RPS From TiProxy with IDC
```
```

RPS From TiDB with GCP
```
```

RPS From TiProxy with GCP
```
```

---

- IDC * 2 + GCP * 3
Cluster Summary
```
```

RPS From TiDB with IDC
```
```

RPS From TiProxy with IDC
```
```

RPS From TiDB with GCP
```
```

RPS From TiProxy with GCP
```
```

---

## Sysbench

- TPS
- QPS

---

## tpcc benchmark

> 使用 Percona-Lab/tpcc-mysql ; 不使用 TiUP Bench ; toolchain 根據 TiDB 優化過?

- [範例數據解讀](https://blog.csdn.net/justlpf/article/details/127516283)



